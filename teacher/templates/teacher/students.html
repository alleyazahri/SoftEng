{% extends "base.html" %}

{%block page_title%}
	Student Information
{%endblock page_title%}

{% block header %}Student Information{% endblock header %}

{%block homepage%} {% url 'teacher.views.teacherhome' %} {% endblock homepage %}

{% block userinformationurl %}
<li> <a href = "{% url 'teacher.views.problemsList' %}">Problems List</a></li>
{% endblock userinformationurl %}

{%block content%}
    <div>
        <table  border="1" style="width:100%">
            <tr>
                <td>Username</td>
                <td>First name</td>
                <td>Last name</td>
                <td>Current Level</td>
            </tr>
            {% for stud in studentsList %}
                <tr>
                    <td>{{stud.user.username}} </td>
                    <td>{{stud.user.first_name }}</td>
                    <td>{{stud.user.last_name }}</td>
                    <td>{{stud.current_level }}</td>
                 </tr>
                <!--<div id="showhide"></div>-->
                <!--<div id="hide_show">-->
                    <!--<p>{{stud.user.username}}</p>-->
                <!--</div>-->
            {% endfor %}
        </table>
    </div>



    <script>
        var button_beg = '<button id="button" onclick="showhide()">', button_end = '</button>';
        var show_button = 'Show', hide_button = 'Hide';
        function showhide() {
            var div = document.getElementById( "hide_show" );
            var showhide = document.getElementById( "showhide" );
            if ( div.style.display !== "none" ) {
                div.style.display = "none";
                button = show_button;
                showhide.innerHTML = button_beg + button + button_end;
            } else {
                div.style.display = "block";
                button = hide_button;
                showhide.innerHTML = button_beg + button + button_end;
        }
        function setup_button( status ) {
            if ( status == 'show' ) {
                button = hide_button;
            } else {
                button = show_button;
            }
            var showhide = document.getElementById( "showhide" );
            showhide.innerHTML = button_beg + button + button_end;
        }
        window.onload = function () {
            setup_button( 'hide' );
            showhide(); // if setup_button is set to 'show' comment this line
        }
   	</script>

            <div>
                {% if studentsList %}
                    <table  border="1" style="width:100%">
                        <tr>
                            <td>Username</td>
                            <td>First name</td>
                            <td>Last name</td>
                            <td>Current Level</td>
                            <td></td>
                        </tr>
                        {% for stud in studentsList %}
                            <tr>
                                <td>{{stud.user.username}}</td>
                                <td>{{stud.user.first_name }}</td>
                                <td>{{stud.user.last_name }}</td>
                                <td>{{stud.current_level }}</td>
                                <td>
                                    <a class = "list-group-item" href = "{% url 'teacher.views.studentinformation' pk=stud.user.id %}">Info</a>
                                    <a class = "list-group-item" href = "{% url 'teacher.views.edit_student' pk=stud.user.id %}">Edit</a>
                                </td>
                             </tr>
                        {% endfor %}
                    </table>
                {% endif %}
            </div>
{% endblock content %}

